# ğŸ‘¨â€ğŸ’» Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ - Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ù†ÛŒØ§Ø¯ Ø­Ú©Ù…Øª

## ğŸ¯ Ù…Ø¹Ø±ÙÛŒ Ù¾Ø±ÙˆÚ˜Ù‡

### Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡: Ø³ÛŒØ³ØªÙ… Ù…Ø¯ÛŒØ±ÛŒØª Ø¨ÙˆØ±Ø³ÛŒÙ‡ Ø¨Ù†ÛŒØ§Ø¯ Ø­Ú©Ù…Øª
**Ù†ÙˆØ¹**: ÙˆØ¨ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§  
**Ø²Ø¨Ø§Ù† Ø§ØµÙ„ÛŒ**: ÙØ§Ø±Ø³ÛŒ (RTL)  
**Ù…Ø¹Ù…Ø§Ø±ÛŒ**: MVC Pattern Ø¨Ø§ Laravel Framework  
**Ù‡Ø¯Ù**: Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø¨ÙˆØ±Ø³ÛŒÙ‡ ØªØ­ØµÛŒÙ„ÛŒ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø¢Ù†â€ŒÙ‡Ø§  

### Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ù‡Ø¯Ù
- **Ù…ØªÙ‚Ø§Ø¶ÛŒØ§Ù† Ø¨ÙˆØ±Ø³ÛŒÙ‡**: Ø§ÙˆÙ„ÛŒØ§ÛŒ Ø¯Ø§Ù†Ø´â€ŒØ¢Ù…ÙˆØ²Ø§Ù† Ù†ÛŒØ§Ø²Ù…Ù†Ø¯
- **Ù…Ø¯ÛŒØ±Ø§Ù† Ø¨Ø±Ø±Ø³ÛŒ**: Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø¨Ø±Ø±Ø³ÛŒâ€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§  
- **Ù…Ø¯ÛŒØ±Ø§Ù† Ø§Ø±Ø´Ø¯**: Ù†Ø¸Ø§Ø±Øª Ú©Ù„ÛŒ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÛŒØ³ØªÙ…

---

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ ÙÙ†ÛŒ Ø³ÛŒØ³ØªÙ…

### Stack Technology
```yaml
Backend:
  Framework: Laravel 12.0
  Language: PHP 8.2+
  Database: SQLite (Production-ready)
  Authentication: Laravel Auth + Custom Roles

Frontend:
  Template: Blade Engine
  CSS: TailwindCSS + Custom CSS
  JavaScript: Vanilla JS + External Modules
  Icons: SVG Heroicons

External Dependencies:
  - JalaliDatePicker: Persian calendar
  - morilog/jalali: Date conversion
  - Livewire 3.6: Real-time components
```

### ÙÙˆÙ„Ø¯Ø± Ø¨Ù†Ø¯ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
```
boniad_hekmat/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/Controllers/      â†’ Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ÛŒ Ø§ØµÙ„ÛŒ
â”‚   â”œâ”€â”€ Models/               â†’ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
â”‚   â””â”€â”€ Providers/            â†’ Service Providers
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/           â†’ ØªØºÛŒÛŒØ±Ø§Øª Ø¯ÛŒØªØ§Ø¨ÛŒØ³
â”‚   â”œâ”€â”€ seeders/             â†’ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
â”‚   â””â”€â”€ database.sqlite      â†’ ÙØ§ÛŒÙ„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³
â”œâ”€â”€ resources/
â”‚   â”œâ”€â”€ views/               â†’ Template files
â”‚   â”œâ”€â”€ css/                 â†’ Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„ Ø´Ø¯Ù‡
â”‚   â””â”€â”€ js/                  â†’ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ JavaScript
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ assets/              â†’ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªØ§ØªÛŒÚ©
â”‚   â””â”€â”€ uploads/             â†’ Ø¢Ù¾Ù„ÙˆØ¯Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ web.php              â†’ ØªØ¹Ø±ÛŒÙ Route Ù‡Ø§
â””â”€â”€ storage/                 â†’ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø®ØµÙˆØµÛŒ
```

---

## ğŸ—„ï¸ Ø³Ø§Ø®ØªØ§Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³

### ERD Schema
```
users (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (âˆ) requests
  â”‚                           â”‚
  â”‚                           â”‚
  â””â”€â”€ (1) profiles           â””â”€â”€ (âˆ) aboutreq
                              â”‚
                              â””â”€â”€ (âˆ) scholarships
                              â”‚
                              â””â”€â”€ (1) daily_trackers
```

### Ø¬Ø¯Ø§ÙˆÙ„ Ø§ØµÙ„ÛŒ

#### ğŸ‘¥ users - Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name VARCHAR(255) NOT NULL,
    username VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    role ENUM('user', 'admin', 'master') DEFAULT 'user',
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);
```

**ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ:**
- `role`: Ù†Ù‚Ø´ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø³ÛŒØ³ØªÙ…
  - `user`: Ù…ØªÙ‚Ø§Ø¶ÛŒ Ø¹Ø§Ø¯ÛŒ  
  - `admin`: Ù…Ø¯ÛŒØ± Ø¨Ø±Ø±Ø³ÛŒâ€ŒÚ©Ù†Ù†Ø¯Ù‡
  - `master`: Ù…Ø¯ÛŒØ± Ø§Ø±Ø´Ø¯

#### ğŸ“‹ requests - Ù‡Ø³ØªÙ‡ Ø§ØµÙ„ÛŒ Ø³ÛŒØ³ØªÙ…
```sql
CREATE TABLE requests (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    name VARCHAR(255) NOT NULL,        -- Ù†Ø§Ù… Ù…ØªÙ‚Ø§Ø¶ÛŒ (ÙØ±Ø²Ù†Ø¯)
    female BOOLEAN DEFAULT 0,          -- 0=Ù¾Ø³Ø±, 1=Ø¯Ø®ØªØ±
    grade VARCHAR(50),                 -- Ù¾Ø§ÛŒÙ‡ ØªØ­ØµÛŒÙ„ÛŒ
    nationalcode VARCHAR(10) UNIQUE,   -- Ú©Ø¯ Ù…Ù„ÛŒ
    phone VARCHAR(15),                 -- Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³
    address TEXT,                      -- Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„
    story ENUM('submit','cancel','check','reject','accept','appointment'),
    imgpath VARCHAR(255),              -- Ù…Ø³ÛŒØ± Ø¹Ú©Ø³
    date DATETIME NULL,                -- ØªØ§Ø±ÛŒØ® Ù…Ù„Ø§Ù‚Ø§Øª
    cardnumber VARCHAR(16) NULL,       -- Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ story:**
```php
'submit'     => 'Ø«Ø¨Øª Ø´Ø¯Ù‡',           // Ø«Ø¨Øª Ø§ÙˆÙ„ÛŒÙ‡ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø±
'cancel'     => 'Ù„ØºÙˆ Ø´Ø¯Ù‡',           // Ù„ØºÙˆ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø±  
'check'      => 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ',      // Ø®ÙˆØ¯Ú©Ø§Ø± Ù‡Ù†Ú¯Ø§Ù… ÙˆØ±ÙˆØ¯ Ø§Ø¯Ù…ÛŒÙ†
'reject'     => 'Ø±Ø¯ Ø´Ø¯Ù‡',            // Ø±Ø¯ ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ†
'accept'     => 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡',         // ØªØ§ÛŒÛŒØ¯ + Ø´Ø±ÙˆØ¹ 31 Ø±ÙˆØ²
'appointment'=> 'ØªØ¹ÛŒÛŒÙ† ÙˆÙ‚Øª Ù…Ù„Ø§Ù‚Ø§Øª'   // ØªØ¹ÛŒÛŒÙ† ÙˆÙ‚Øª Ø­Ø¶ÙˆØ±ÛŒ
```

#### ğŸ‘¤ profiles - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§
```sql
CREATE TABLE profiles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER UNIQUE NOT NULL,
    name VARCHAR(255) NOT NULL,
    female BOOLEAN DEFAULT 0,
    grade VARCHAR(50),
    phone VARCHAR(15),
    address TEXT,
    imgpath VARCHAR(255),
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

**Ù†Ú©ØªÙ‡ Ù…Ù‡Ù…**: Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø±Ø§ÛŒ admin Ù‡Ø§ Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø§Ø³Øª

#### ğŸ’¬ scholarships - Ø³ÛŒØ³ØªÙ… Ù¾ÛŒØ§Ù…â€ŒØ±Ø³Ø§Ù†ÛŒ
```sql
CREATE TABLE scholarships (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    profile_id INTEGER NOT NULL,       -- ÙØ±Ø³ØªÙ†Ø¯Ù‡ (Ø§Ø¯Ù…ÛŒÙ†)
    request_id INTEGER NOT NULL,       -- Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø±ØªØ¨Ø·
    title VARCHAR(255) NOT NULL,       -- Ø¹Ù†ÙˆØ§Ù† Ù¾ÛŒØ§Ù…
    description TEXT,                  -- Ù…ØªÙ† Ù¾ÛŒØ§Ù…
    price DECIMAL(10,2) DEFAULT 0,     -- Ù…Ø¨Ù„Øº Ø¨ÙˆØ±Ø³ÛŒÙ‡
    story ENUM('warning','thanks','message','scholarship'),
    ismaster BOOLEAN DEFAULT 0,        -- Ø¢ÛŒØ§ ØªÙˆØ³Ø· master Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    
    FOREIGN KEY (profile_id) REFERENCES profiles(id),
    FOREIGN KEY (request_id) REFERENCES requests(id)
);
```

**Ø§Ù†ÙˆØ§Ø¹ Ù¾ÛŒØ§Ù…:**
```php
'warning'     => ['Ø±Ù†Ú¯' => 'Ø²Ø±Ø¯',  'Ù…Ø¹Ù†ÛŒ' => 'Ù‡Ø´Ø¯Ø§Ø±'],
'thanks'      => ['Ø±Ù†Ú¯' => 'Ø¢Ø¨ÛŒ',  'Ù…Ø¹Ù†ÛŒ' => 'ØªØ´Ú©Ø±'],  
'message'     => ['Ø±Ù†Ú¯' => 'Ø¢Ø¨ÛŒ',  'Ù…Ø¹Ù†ÛŒ' => 'Ù¾ÛŒØ§Ù… Ø¹Ø§Ø¯ÛŒ'],
'scholarship' => ['Ø±Ù†Ú¯' => 'Ø³Ø¨Ø²',  'Ù…Ø¹Ù†ÛŒ' => 'Ø§Ø¹Ù„Ø§Ù† Ø¨ÙˆØ±Ø³ÛŒÙ‡']
```

#### ğŸ† aboutreq - ØªØ®ØµØµâ€ŒÙ‡Ø§ Ùˆ Ø§ÙØªØ®Ø§Ø±Ø§Øª
```sql
CREATE TABLE aboutreq (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    request_id INTEGER NOT NULL,
    title VARCHAR(255) NOT NULL,       -- Ø¹Ù†ÙˆØ§Ù† Ù…Ù‡Ø§Ø±Øª/Ø§ÙØªØ®Ø§Ø±
    description TEXT,                  -- ØªÙˆØ¶ÛŒØ­Ø§Øª
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    
    FOREIGN KEY (request_id) REFERENCES requests(id)
);
```

#### â° daily_trackers - Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ø²Ù…Ø§Ù†ÛŒ 31 Ø±ÙˆØ²Ù‡
```sql
CREATE TABLE daily_trackers (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    request_id INTEGER UNIQUE NOT NULL,
    start_date DATE NOT NULL,          -- ØªØ§Ø±ÛŒØ® Ø´Ø±ÙˆØ¹
    max_days INTEGER DEFAULT 31,       -- Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø«Ø§Ø¨Øª
    created_at TIMESTAMP,
    updated_at TIMESTAMP,
    
    FOREIGN KEY (request_id) REFERENCES requests(id)
);
```

---

## ğŸ”§ Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§ Ùˆ Route Ù‡Ø§

### Ø³Ø§Ø®ØªØ§Ø± Ú©Ù†ØªØ±Ù„Ø±Ù‡Ø§
```php
app/Http/Controllers/
â”œâ”€â”€ AuthController.php      â†’ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª + Ù‡Ø¯Ø§ÛŒØª Ù†Ù‚Ø´â€ŒÙ‡Ø§
â”œâ”€â”€ UserController.php      â†’ Ø¹Ù…Ù„ÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¹Ø§Ø¯ÛŒ
â”œâ”€â”€ AdminController.php     â†’ Ø¹Ù…Ù„ÛŒØ§Øª Ù…Ø¯ÛŒØ±Ø§Ù†
â”œâ”€â”€ MasterController.php    â†’ Ø¹Ù…Ù„ÛŒØ§Øª Ù…Ø¯ÛŒØ±Ø§Ù† Ø§Ø±Ø´Ø¯
â””â”€â”€ HomeController.php      â†’ ØµÙØ­Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ
```

### Ù…ØªØ¯Ù‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

#### AuthController.php
```php
class AuthController extends Controller 
{
    // ØªØ´Ø®ÛŒØµ Ù†Ù‚Ø´ Ùˆ Ù‡Ø¯Ø§ÛŒØª
    public function roler()
    {
        $user = Auth::user();
        
        switch($user->role) {
            case 'user':
                return redirect()->route('user.dashboard');
            case 'admin':
                // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¬ÙˆØ¯ Ù¾Ø±ÙˆÙØ§ÛŒÙ„
                if (!$user->profile) {
                    return redirect()->route('admin.addprofile');
                }
                return redirect()->route('admin.dashboard');
            case 'master':
                return redirect()->route('master.dashboard');
        }
    }
    
    public function login(Request $request) { /* ... */ }
    public function logout() { /* ... */ }
}
```

#### UserController.php
```php
class UserController extends Controller
{
    public function dashboard()
    {
        $requests = Request::where('user_id', Auth::id())
                          ->orderBy('created_at', 'desc')
                          ->get();
        return view('user.dashboard', compact('requests'));
    }
    
    public function addrequest() { /* ÙØ±Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¬Ø¯ÛŒØ¯ */ }
    public function storerequest(Request $request) { /* Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø±Ø®ÙˆØ§Ø³Øª */ }
    public function editrequest($id) { /* ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª */ }
    public function updaterequest(Request $request, $id) { /* Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ */ }
    public function message() { /* Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ */ }
    public function addcard($id) { /* Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª */ }
}
```

#### AdminController.php
```php
class AdminController extends Controller
{
    public function dashboard()
    {
        $requests = Request::with('user')
                          ->where('story', '!=', 'submit')
                          ->orderBy('created_at', 'desc')
                          ->get();
        return view('admin.dashboard', compact('requests'));
    }
    
    public function userdetail($id)
    {
        $request = Request::findOrFail($id);
        
        // ØªØºÛŒÛŒØ± Ø®ÙˆØ¯Ú©Ø§Ø± ÙˆØ¶Ø¹ÛŒØª Ø¨Ù‡ "Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ"
        if ($request->story === 'submit') {
            $request->update(['story' => 'check']);
        }
        
        return view('admin.userdetail', compact('request'));
    }
    
    public function acceptuser($id)
    {
        $request = Request::findOrFail($id);
        $request->update(['story' => 'accept']);
        
        // Ø´Ø±ÙˆØ¹ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ 31 Ø±ÙˆØ²Ù‡
        DailyTracker::create([
            'request_id' => $id,
            'start_date' => Carbon::now()->startOfDay(),
            'max_days' => 31
        ]);
        
        return redirect()->back()->with('success', 'Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ§ÛŒÛŒØ¯ Ø´Ø¯');
    }
    
    public function rejectuser($id) { /* Ø±Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª */ }
    public function setAppointment(Request $request, $id) { /* ØªØ¹ÛŒÛŒÙ† ÙˆÙ‚Øª */ }
    public function storemessage(Request $request) { /* Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… */ }
}
```

### Route Structure
```php
// routes/web.php

// Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ
Route::get('/', [HomeController::class, 'index'])->name('home');
Route::get('/login', [AuthController::class, 'showLogin'])->name('login');
Route::post('/login', [AuthController::class, 'login']);
Route::get('/register', [HomeController::class, 'register'])->name('register');
Route::post('/register', [HomeController::class, 'store']);

// Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª
Route::middleware('auth')->group(function () {
    Route::get('/roler', [AuthController::class, 'roler'])->name('roler');
    Route::get('/logout', [AuthController::class, 'logout'])->name('logout');
});

// Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¹Ø§Ø¯ÛŒ
Route::prefix('user')->name('user.')->middleware(['auth', 'role:user'])->group(function () {
    Route::get('/dashboard', [UserController::class, 'dashboard'])->name('dashboard');
    Route::get('/addrequest', [UserController::class, 'addrequest'])->name('addrequest');
    Route::post('/storerequest', [UserController::class, 'storerequest'])->name('storerequest');
    Route::get('/editrequest/{id}', [UserController::class, 'editrequest'])->name('editrequest');
    Route::put('/updaterequest/{id}', [UserController::class, 'updaterequest'])->name('updaterequest');
    Route::get('/message', [UserController::class, 'message'])->name('message');
    Route::get('/addcard/{id}', [UserController::class, 'addcard'])->name('addcard');
    Route::put('/updatecard/{id}', [UserController::class, 'updatecard'])->name('updatecard');
});

// Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ø§Ø¯Ù…ÛŒÙ†
Route::prefix('admin')->name('admin.')->middleware(['auth', 'role:admin,master'])->group(function () {
    Route::get('/dashboard', [AdminController::class, 'dashboard'])->name('dashboard');
    Route::get('/userdetail/{id}', [AdminController::class, 'userdetail'])->name('userdetail');
    Route::put('/acceptuser/{id}', [AdminController::class, 'acceptuser'])->name('acceptuser');
    Route::put('/rejectuser/{id}', [AdminController::class, 'rejectuser'])->name('rejectuser');
    Route::put('/setappointment/{id}', [AdminController::class, 'setAppointment'])->name('setappointment');
    Route::post('/storemessage', [AdminController::class, 'storemessage'])->name('storemessage');
    Route::get('/accepts', [AdminController::class, 'accepts'])->name('accepts');
    Route::get('/users', [AdminController::class, 'users'])->name('users');
});

// Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ Ù…Ø³ØªØ± (Ù…Ø¯ÛŒØ± Ø§Ø±Ø´Ø¯)
Route::prefix('master')->name('master.')->middleware(['auth', 'role:master'])->group(function () {
    Route::get('/dashboard', [MasterController::class, 'dashboard'])->name('dashboard');
    Route::put('/changerole/{id}', [MasterController::class, 'changerole'])->name('changerole');
    Route::get('/addprofile', [MasterController::class, 'addprofile'])->name('addprofile');
    Route::post('/storeprofile', [MasterController::class, 'storeprofile'])->name('storeprofile');
});

// ğŸ†• Ù…Ø³ÛŒØ±Ù‡Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ (Unified Dashboard)
Route::prefix('unified')->name('unified.')->middleware('auth')->group(function () {
    Route::get('/myrequests', [UnifiedController::class, 'myrequests'])->name('myrequests');
    Route::get('/allrequests', [UnifiedController::class, 'allrequests'])->name('allrequests');
    Route::get('/acceptes', [UnifiedController::class, 'acceptes'])->name('acceptes');
    Route::get('/users', [UnifiedController::class, 'users'])->name('users');
    Route::get('/addprofile', [UnifiedController::class, 'addprofile'])->name('addprofile');
    Route::get('/requestdetail/{id}', [UnifiedController::class, 'requestdetail'])->name('requestdetail');
});
```

---

## ğŸ¨ Frontend Ùˆ UI Components

### Layout System

#### unified.blade.php - Layout Ø§ØµÙ„ÛŒ
```html
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="csrf-token" content="{{ csrf_token() }}">
    <title>@yield('title', 'Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª')</title>
    
    <!-- Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ -->
    <link href="{{ asset('assets/css/app.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/search-box.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/sidebar.css') }}" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    @yield('head')
</head>
<body class="bg-gray-100">
    <div class="flex min-h-screen">
        <!-- Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± -->
        <div id="sidebar" class="w-64 bg-white shadow-lg transition-all duration-300 ease-in-out">
            <!-- Ù‡Ø¯Ø± Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Toggle -->
            <div class="p-6 flex items-center justify-between">
                <h2 id="sidebarTitle" class="text-xl font-bold text-gray-800">Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h2>
                <button id="toggleSidebar" class="p-2 rounded-lg hover:bg-gray-100 transition-colors">
                    <svg id="toggleIcon" class="w-5 h-5 text-gray-600">
                        <!-- Ø¢ÛŒÚ©ÙˆÙ† SVG -->
                    </svg>
                </button>
            </div>
            
            <!-- Ù…Ù†ÙˆÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
            <nav class="mt-6">
                <div class="px-6 py-2">
                    <div id="menuLabel" class="text-xs font-semibold text-gray-400 uppercase tracking-widest">Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ</div>
                </div>
                
                <!-- Ù…Ù†ÙˆÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù† - Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§ -->
                <a href="{{ route('unified.myrequests') }}" 
                   class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 group" 
                   title="Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†">
                    <svg class="w-5 h-5 ml-3 flex-shrink-0">
                        <!-- Ø¢ÛŒÚ©ÙˆÙ† -->
                    </svg>
                    <span class="menu-text">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†</span>
                </a>

                @if(Auth::user()->role !== 'user')
                    <!-- Ù…Ù†ÙˆÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ†/Ù…Ø³ØªØ± -->
                    <a href="{{ route('unified.allrequests') }}" 
                       class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 group" 
                       title="ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§">
                        <svg class="w-5 h-5 ml-3 flex-shrink-0">
                            <!-- Ø¢ÛŒÚ©ÙˆÙ† -->
                        </svg>
                        <span class="menu-text">ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§</span>
                    </a>
                @endif

                @if(Auth::user()->role === 'admin')
                    <!-- Ù…Ù†ÙˆÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ† -->
                @endif
                
                <!-- Ù…Ù†ÙˆÛŒ Ø®Ø±ÙˆØ¬ -->
                <a href="{{ route('logout') }}" 
                   class="flex items-center px-6 py-3 text-gray-700 hover:bg-gray-50 group" 
                   title="Ø®Ø±ÙˆØ¬">
                    <svg class="w-5 h-5 ml-3 flex-shrink-0">
                        <!-- Ø¢ÛŒÚ©ÙˆÙ† Ø®Ø±ÙˆØ¬ -->
                    </svg>
                    <span class="menu-text">Ø®Ø±ÙˆØ¬</span>
                </a>
            </nav>
        </div>

        <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
        <div class="flex-1">
            <!-- Ù‡Ø¯Ø± ØµÙØ­Ù‡ -->
            <div class="bg-white shadow">
                <div class="px-6 py-4">
                    <div class="flex justify-between items-center">
                        <h1 class="text-lg font-semibold text-gray-800">
                            @yield('page-title', 'Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯')
                        </h1>
                        <div class="text-sm text-gray-600">
                            Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ {{ Auth::user()->name }}
                            <span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-2">
                                @if(Auth::user()->role === 'admin')
                                    Ø§Ø¯Ù…ÛŒÙ†
                                @elseif(Auth::user()->role === 'master')
                                    Ù…Ø³ØªØ±
                                @else
                                    Ú©Ø§Ø±Ø¨Ø±
                                @endif
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Ù…Ø­ØªÙˆØ§ÛŒ ØµÙØ­Ù‡ -->
            @yield('content')
        </div>
    </div>

    <!-- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ JavaScript Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± -->
    <script src="{{ asset('assets/js/sidebar.js') }}"></script>
    @yield('scripts')
</body>
</html>
```

### CSS Components

#### sidebar.css - Ø³ÛŒØ³ØªÙ… Ø³Ø§ÛŒØ¯Ø¨Ø§Ø±
```css
/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø§ØµÙ„ÛŒ Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± */
#sidebar {
    transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Ù…Ù†ÙˆÛŒ ÙØ¹Ø§Ù„ */
nav a.active {
    background-color: #dbeafe;
    border-right: 4px solid #3b82f6;
    color: #1d4ed8;
}

nav a.active svg {
    color: #3b82f6;
}

/* Ø³ÛŒØ³ØªÙ… Tooltip Ø¨Ø±Ø§ÛŒ Ø­Ø§Ù„Øª Ø¬Ù…Ø¹ */
.w-16 a[title]:hover::after {
    content: attr(title);
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    background-color: #374151;
    color: white;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 14px;
    white-space: nowrap;
    z-index: 1000;
    margin-left: 8px;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.w-16 a[title]:hover::before {
    content: '';
    position: absolute;
    left: 100%;
    top: 50%;
    transform: translateY(-50%);
    border: 6px solid transparent;
    border-left-color: #374151;
    margin-left: 2px;
    z-index: 1000;
}

/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù…ØªÙ†â€ŒÙ‡Ø§ */
.menu-text {
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
}

#sidebarTitle,
#menuLabel,
#accountLabel {
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
}

/* Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ÙÙˆØ±ÛŒ Ù‡Ù†Ú¯Ø§Ù… Ø¬Ù…Ø¹ Ø´Ø¯Ù† */
.sidebar-collapsing .menu-text,
.sidebar-collapsing #sidebarTitle,
.sidebar-collapsing #menuLabel,
.sidebar-collapsing #accountLabel {
    opacity: 0;
    transform: translateX(-10px);
}

/* Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§ ØªØ§Ø®ÛŒØ± Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø² Ø´Ø¯Ù† */
.sidebar-expanding .menu-text,
.sidebar-expanding #sidebarTitle,
.sidebar-expanding #menuLabel,
.sidebar-expanding #accountLabel {
    opacity: 1;
    transform: translateX(0);
    transition-delay: 0.2s;
}

/* Ø«Ø¨Ø§Øª Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ */
#menuLabel,
#accountLabel {
    transition: opacity 0.3s ease-in-out;
    height: 1rem;
    line-height: 1rem;
    display: block;
}

/* Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§ Ø¨Ø§ Ø­ÙØ¸ ÙØ¶Ø§ */
#sidebar.w-16 #menuLabel,
#sidebar.w-16 #accountLabel {
    opacity: 0;
    pointer-events: none;
    visibility: hidden;
}

#sidebar.w-64 #menuLabel,
#sidebar.w-64 #accountLabel {
    opacity: 1;
    pointer-events: auto;
    visibility: visible;
}

/* Container Ù‡Ø§ÛŒ Ø«Ø§Ø¨Øª */
.px-6.py-2 {
    transition: opacity 0.3s ease-in-out;
    height: 2.5rem;
    display: flex;
    align-items: center;
    padding: 0.5rem 1.5rem;
    margin-top: 1.5rem;
}

/* Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± */
#sidebar.w-16 .px-6.py-2,
#sidebar.w-64 .px-6.py-2 {
    height: 2.5rem;
    padding: 0.5rem 1.5rem;
    margin-top: 1.5rem;
}

/* Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ Toggle */
#toggleSidebar {
    transition: all 0.2s ease-in-out;
}

#toggleSidebar:hover {
    background-color: #f3f4f6;
    transform: scale(1.05);
}

/* Ø«Ø¨Ø§Øª Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ù†ÙˆÙ‡Ø§ */
nav a {
    position: relative;
    transition: all 0.2s ease-in-out;
    min-height: 3rem;
    display: flex;
    align-items: center;
}

nav a:hover {
    background-color: #f9fafb;
    padding-right: 28px;
}

nav a svg {
    transition: color 0.2s ease-in-out;
}

nav a:hover svg {
    color: #3b82f6;
}

/* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
@media (max-width: 768px) {
    #sidebar {
        position: fixed;
        height: 100vh;
        z-index: 50;
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
    }
    
    #sidebar.mobile-open {
        transform: translateX(0);
    }
    
    .w-16 a[title]:hover::after,
    .w-16 a[title]:hover::before {
        display: none;
    }
    
    #toggleSidebar {
        display: none;
    }
}

/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(-10px);
    }
}

.menu-text.show {
    animation: slideIn 0.3s ease-in-out;
}

.menu-text.hide {
    animation: slideOut 0.3s ease-in-out;
}
```

### JavaScript Components

#### sidebar.js - Ù…Ù†Ø·Ù‚ Ø³Ø§ÛŒØ¯Ø¨Ø§Ø±
```javascript
// Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ DOM
document.addEventListener('DOMContentLoaded', function() {
    // Ø¹Ù†Ø§ØµØ± DOM
    const sidebar = document.getElementById('sidebar');
    const toggleBtn = document.getElementById('toggleSidebar');
    const toggleIcon = document.getElementById('toggleIcon');
    const sidebarTitle = document.getElementById('sidebarTitle');
    const menuLabel = document.getElementById('menuLabel');
    const accountLabel = document.getElementById('accountLabel');
    const menuTexts = document.querySelectorAll('.menu-text');
    const menuLinks = document.querySelectorAll('nav a');
    
    // ØªØ´Ø®ÛŒØµ Ù…ÙˆØ¨Ø§ÛŒÙ„
    let isMobile = window.innerWidth <= 768;
    
    // ØªÙ†Ø¸ÛŒÙ… Ù…Ù†ÙˆÛŒ ÙØ¹Ø§Ù„
    setActiveMenuItem();
    
    // Ø§Ø¹Ù…Ø§Ù„ ÙˆØ¶Ø¹ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡
    if (!isMobile) {
        const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
        if (isCollapsed) {
            applySidebarState(true, false); // Ø¬Ù…Ø¹ØŒ Ø¨Ø¯ÙˆÙ† Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
        }
    }
    
    // Event Listener Ø¯Ú©Ù…Ù‡ Toggle
    if (toggleBtn) {
        toggleBtn.addEventListener('click', function() {
            if (isMobile) {
                return; // Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ ØºÛŒØ±ÙØ¹Ø§Ù„
            }
            
            if (sidebar.classList.contains('w-16')) {
                expandSidebar();
            } else {
                collapseSidebar();
            }
        });
    }
    
    /**
     * ØªØ´Ø®ÛŒØµ Ùˆ ØªÙ†Ø¸ÛŒÙ… Ù…Ù†ÙˆÛŒ ÙØ¹Ø§Ù„ Ø¨Ø± Ø§Ø³Ø§Ø³ URL
     */
    function setActiveMenuItem() {
        const currentPath = window.location.pathname;
        
        menuLinks.forEach(link => {
            link.classList.remove('active');
            
            const linkPath = new URL(link.href).pathname;
            if (currentPath === linkPath || (currentPath.includes(linkPath) && linkPath !== '/')) {
                link.classList.add('active');
            }
        });
    }
    
    /**
     * Ø§Ø¹Ù…Ø§Ù„ ÙˆØ¶Ø¹ÛŒØª Ø³Ø§ÛŒØ¯Ø¨Ø§Ø±
     * @param {boolean} collapsed - Ø¢ÛŒØ§ Ø¬Ù…Ø¹ Ø¨Ø§Ø´Ø¯
     * @param {boolean} animate - Ø¢ÛŒØ§ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯
     */
    function applySidebarState(collapsed, animate = true) {
        if (!animate) {
            // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ù…ÙˆÙ‚Øª transition Ù‡Ø§
            sidebar.style.transition = 'none';
            if (sidebarTitle) sidebarTitle.style.transition = 'none';
            if (menuLabel) menuLabel.style.transition = 'none';
            if (accountLabel) accountLabel.style.transition = 'none';
            menuTexts.forEach(text => text.style.transition = 'none');
        }
        
        if (collapsed) {
            // Ø­Ø§Ù„Øª Ø¬Ù…Ø¹
            sidebar.classList.remove('w-64');
            sidebar.classList.add('w-16');
            
            if (sidebarTitle) sidebarTitle.classList.add('hidden');
            if (menuLabel) {
                menuLabel.style.opacity = '0';
                menuLabel.style.visibility = 'hidden';
            }
            if (accountLabel) {
                accountLabel.style.opacity = '0';
                accountLabel.style.visibility = 'hidden';
            }
            menuTexts.forEach(text => text.classList.add('hidden'));
            
            // ØªÙ†Ø¸ÛŒÙ… Ø¢ÛŒÚ©ÙˆÙ† Ø¬Ù…Ø¹
            if (toggleIcon) {
                toggleIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"/>';
            }
        } else {
            // Ø­Ø§Ù„Øª Ø¨Ø§Ø²
            sidebar.classList.remove('w-16');
            sidebar.classList.add('w-64');
            
            if (sidebarTitle) sidebarTitle.classList.remove('hidden');
            if (menuLabel) {
                menuLabel.style.opacity = '1';
                menuLabel.style.visibility = 'visible';
            }
            if (accountLabel) {
                accountLabel.style.opacity = '1';
                accountLabel.style.visibility = 'visible';
            }
            menuTexts.forEach(text => text.classList.remove('hidden'));
            
            // ØªÙ†Ø¸ÛŒÙ… Ø¢ÛŒÚ©ÙˆÙ† Ø¨Ø§Ø²
            if (toggleIcon) {
                toggleIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"/>';
            }
        }
        
        if (!animate) {
            // Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ transition Ù‡Ø§ Ù¾Ø³ Ø§Ø² Ø§Ø¹Ù…Ø§Ù„
            setTimeout(() => {
                sidebar.style.transition = '';
                if (sidebarTitle) sidebarTitle.style.transition = '';
                if (menuLabel) menuLabel.style.transition = '';
                if (accountLabel) accountLabel.style.transition = '';
                menuTexts.forEach(text => text.style.transition = '');
            }, 50);
        }
    }
    
    /**
     * Ø¬Ù…Ø¹ Ú©Ø±Ø¯Ù† Ø³Ø§ÛŒØ¯Ø¨Ø§Ø±
     */
    function collapseSidebar() {
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ Ø¯Ø± Ø­Ø§Ù„ Ø¬Ù…Ø¹ Ø´Ø¯Ù†
        sidebar.classList.add('sidebar-collapsing');
        
        // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† ÙÙˆØ±ÛŒ Ù…ØªÙ†â€ŒÙ‡Ø§ Ø¨Ø§ Ø­ÙØ¸ ÙØ¶Ø§ÛŒ Ø¨Ø±Ú†Ø³Ø¨â€ŒÙ‡Ø§
        if (sidebarTitle) sidebarTitle.classList.add('hidden');
        if (menuLabel) {
            menuLabel.style.opacity = '0';
            menuLabel.style.visibility = 'hidden';
        }
        if (accountLabel) {
            accountLabel.style.opacity = '0';
            accountLabel.style.visibility = 'hidden';
        }
        menuTexts.forEach(text => text.classList.add('hidden'));
        
        // ØªØºÛŒÛŒØ± Ø¹Ø±Ø¶ Ù¾Ø³ Ø§Ø² ØªØ§Ø®ÛŒØ± Ú©ÙˆØªØ§Ù‡
        setTimeout(() => {
            sidebar.classList.remove('w-64');
            sidebar.classList.add('w-16');
            sidebar.classList.remove('sidebar-collapsing');
        }, 100);
        
        // ØªØºÛŒÛŒØ± Ø¢ÛŒÚ©ÙˆÙ†
        if (toggleIcon) {
            toggleIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7"/>';
        }
        
        // Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª
        if (!isMobile) {
            localStorage.setItem('sidebarCollapsed', 'true');
        }
    }
    
    /**
     * Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ø³Ø§ÛŒØ¯Ø¨Ø§Ø±
     */
    function expandSidebar() {
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø² Ø´Ø¯Ù†
        sidebar.classList.add('sidebar-expanding');
        
        // ØªØºÛŒÛŒØ± Ø¹Ø±Ø¶ Ø§Ø¨ØªØ¯Ø§
        sidebar.classList.remove('w-16');
        sidebar.classList.add('w-64');
        
        // Ù†Ù…Ø§ÛŒØ´ Ù…ØªÙ†â€ŒÙ‡Ø§ Ø¨Ø§ ØªØ§Ø®ÛŒØ±
        setTimeout(() => {
            if (sidebarTitle) sidebarTitle.classList.remove('hidden');
            if (menuLabel) {
                menuLabel.style.opacity = '1';
                menuLabel.style.visibility = 'visible';
            }
            if (accountLabel) {
                accountLabel.style.opacity = '1';
                accountLabel.style.visibility = 'visible';
            }
            menuTexts.forEach(text => text.classList.remove('hidden'));
            
            // Ø­Ø°Ù Ú©Ù„Ø§Ø³ Ù¾Ø³ Ø§Ø² Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
            setTimeout(() => {
                sidebar.classList.remove('sidebar-expanding');
            }, 300);
        }, 200);
        
        // ØªØºÛŒÛŒØ± Ø¢ÛŒÚ©ÙˆÙ†
        if (toggleIcon) {
            toggleIcon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7"/>';
        }
        
        // Ø°Ø®ÛŒØ±Ù‡ ÙˆØ¶Ø¹ÛŒØª
        if (!isMobile) {
            localStorage.setItem('sidebarCollapsed', 'false');
        }
    }
    
    // Ù…Ø¯ÛŒØ±ÛŒØª ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ ØµÙØ­Ù‡
    window.addEventListener('resize', function() {
        const newIsMobile = window.innerWidth <= 768;
        if (newIsMobile !== isMobile) {
            isMobile = newIsMobile;
            
            if (isMobile) {
                // Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ú©Ø§Ù…Ù„ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
                applySidebarState(false, false);
            } else {
                // Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø¯Ø± Ø¯Ø³Ú©ØªØ§Ù¾
                const isCollapsed = localStorage.getItem('sidebarCollapsed') === 'true';
                applySidebarState(isCollapsed, false);
            }
        }
    });
    
    /**
     * Toggle Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ (Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡)
     */
    function toggleMobileSidebar() {
        if (isMobile) {
            sidebar.classList.toggle('mobile-open');
        }
    }
    
    // Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† function Ù‡Ø§ Ø¯Ø± Ø³Ø·Ø­ global
    window.sidebarToggle = {
        collapse: collapseSidebar,
        expand: expandSidebar,
        toggleMobile: toggleMobileSidebar
    };
});
```

---

## ğŸ” ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ø³ÛŒØ³ØªÙ…

### 1. Ø³ÛŒØ³ØªÙ… Ù¾ÛŒÚ¯ÛŒØ±ÛŒ 31 Ø±ÙˆØ²Ù‡
```php
// Ù…Ù†Ø·Ù‚ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾ÛŒØ´Ø±ÙØª
public function getProgressPercentage($tracker)
{
    $start = Carbon::parse($tracker->start_date);
    $now = Carbon::now();
    $daysPassed = $start->diffInDays($now);
    
    return min(100, ($daysPassed / $tracker->max_days) * 100);
}

// Ù†Ù…Ø§ÛŒØ´ Progress Bar Ø¯Ø± Blade
@if($tracker)
    @php
        $progress = min(100, ($tracker->start_date->diffInDays(now()) / $tracker->max_days) * 100);
    @endphp
    
    <div class="w-full bg-gray-200 rounded-full h-2.5">
        <div class="bg-blue-600 h-2.5 rounded-full transition-all duration-300" 
             style="width: {{ $progress }}%"></div>
    </div>
    
    <p class="text-sm text-gray-600 mt-2">
        {{ round($progress) }}% - 
        {{ 31 - $tracker->start_date->diffInDays(now()) }} Ø±ÙˆØ² Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡
    </p>
@endif
```

### 2. Ø³ÛŒØ³ØªÙ… JalaliDatePicker
```html
<!-- Ø¯Ø± requestdetail.blade.php -->
<div class="mb-4">
    <label class="block text-sm font-medium text-gray-700 mb-2">
        ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª Ù…Ù„Ø§Ù‚Ø§Øª
    </label>
    <input type="text" 
           id="appointmentDate" 
           name="date" 
           class="w-full px-3 py-2 border border-gray-300 rounded-md"
           placeholder="ØªØ§Ø±ÛŒØ® Ùˆ Ø³Ø§Ø¹Øª Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯"
           readonly>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ JalaliDatePicker
    if (typeof jalaliDatepicker !== 'undefined') {
        jalaliDatepicker.startWatch({
            time: true,                    // Ø§Ù†ØªØ®Ø§Ø¨ Ø³Ø§Ø¹Øª
            persianDigit: false,           // Ø§Ø¹Ø¯Ø§Ø¯ Ù„Ø§ØªÛŒÙ†
            minDate: 'today',              // Ø­Ø¯Ø§Ù‚Ù„ Ø§Ù…Ø±ÙˆØ²
            format: 'YYYY-MM-DD HH:mm',    // ÙØ±Ù…Øª Ø®Ø±ÙˆØ¬ÛŒ
            dayViewHeaderFormat: 'MMMM YYYY',
            monthViewHeaderFormat: 'YYYY',
            yearViewHeaderFormat: 'YYYY-YYYY'
        });
    }
});
</script>
```

### 3. Ø³ÛŒØ³ØªÙ… Modal AJAX
```javascript
// Ù…Ø«Ø§Ù„ Ø§Ø² acceptes.blade.php
function openScholarshipModal(requestId) {
    document.getElementById('request_id').value = requestId;
    document.getElementById('scholarshipModal').classList.remove('hidden');
}

// Ø§Ø±Ø³Ø§Ù„ ÙØ±Ù… Ø¨Ø§ AJAX
$('#scholarshipForm').on('submit', function(e) {
    e.preventDefault();
    
    $.ajax({
        url: $(this).attr('action'),
        method: 'POST',
        data: $(this).serialize(),
        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        },
        success: function(response) {
            // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ù…ÙˆÙÙ‚ÛŒØª
            showSuccessPopup();
            
            // Ø¨Ø³ØªÙ† modal
            closeModal();
            
            // Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØµÙØ­Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
            setTimeout(() => {
                location.reload();
            }, 1500);
        },
        error: function(xhr) {
            console.error('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„:', xhr);
            alert('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…');
        }
    });
});

function showSuccessPopup() {
    const popup = document.getElementById('successPopup');
    popup.classList.remove('hidden');
    
    setTimeout(() => {
        popup.classList.add('hidden');
    }, 3000);
}
```

---

## ğŸ”’ Ø§Ù…Ù†ÛŒØª Ùˆ Middleware

### Role-based Access Control
```php
// app/Http/Middleware/CheckRole.php
class CheckRole
{
    public function handle($request, Closure $next, ...$roles)
    {
        $user = Auth::user();
        
        if (!$user) {
            return redirect()->route('login');
        }
        
        if (!in_array($user->role, $roles)) {
            abort(403, 'Ø¯Ø³ØªØ±Ø³ÛŒ Ù…Ø¬Ø§Ø² Ù†ÛŒØ³Øª');
        }
        
        return $next($request);
    }
}

// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Route
Route::middleware(['auth', 'role:admin,master'])->group(function () {
    // ÙÙ‚Ø· admin Ùˆ master
});
```

### CSRF Protection
```html
<!-- Ø¯Ø± Ù‡Ù…Ù‡ ÙØ±Ù…â€ŒÙ‡Ø§ -->
<form method="POST" action="{{ route('example') }}">
    @csrf
    <!-- ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ ÙØ±Ù… -->
</form>

<!-- Ø¯Ø± AJAX -->
$.ajaxSetup({
    headers: {
        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
    }
});
```

### File Upload Security
```php
// Ø¯Ø± Ú©Ù†ØªØ±Ù„Ø±
public function uploadImage(Request $request)
{
    $request->validate([
        'image' => 'required|image|mimes:jpeg,png,jpg|max:2048'
    ]);
    
    $image = $request->file('image');
    $filename = time() . '_' . $image->getClientOriginalName();
    
    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± storage Ø®ØµÙˆØµÛŒ
    $path = $image->storeAs('uploads', $filename, 'public');
    
    return $path;
}
```

---

## ğŸ“š Ù…Ø¯Ù„â€ŒÙ‡Ø§ Ùˆ Eloquent Relations

### User Model
```php
// app/Models/User.php
class User extends Authenticatable
{
    protected $fillable = [
        'name', 'username', 'password', 'role'
    ];

    protected $hidden = [
        'password', 'remember_token',
    ];

    // Ø±ÙˆØ§Ø¨Ø·
    public function requests()
    {
        return $this->hasMany(Request::class);
    }

    public function profile()
    {
        return $this->hasOne(Profile::class);
    }

    // Accessors
    public function getRoleNameAttribute()
    {
        return [
            'user' => 'Ú©Ø§Ø±Ø¨Ø±',
            'admin' => 'Ø§Ø¯Ù…ÛŒÙ†', 
            'master' => 'Ù…Ø³ØªØ±'
        ][$this->role] ?? 'Ù†Ø§Ù…Ø´Ø®Øµ';
    }

    // Scopes
    public function scopeAdmins($query)
    {
        return $query->whereIn('role', ['admin', 'master']);
    }
}
```

### Request Model
```php
// app/Models/Request.php
class Request extends Model
{
    protected $fillable = [
        'user_id', 'name', 'female', 'grade', 'nationalcode',
        'phone', 'address', 'story', 'imgpath', 'date', 'cardnumber'
    ];

    protected $casts = [
        'female' => 'boolean',
        'date' => 'datetime',
    ];

    // Ø±ÙˆØ§Ø¨Ø·
    public function user()
    {
        return $this->belongsTo(User::class);
    }

    public function aboutreqs()
    {
        return $this->hasMany(Aboutreq::class);
    }

    public function scholarships()
    {
        return $this->hasMany(Scholarship::class);
    }

    public function dailyTracker()
    {
        return $this->hasOne(DailyTracker::class);
    }

    // Accessors
    public function getGenderAttribute()
    {
        return $this->female ? 'Ø¯Ø®ØªØ±' : 'Ù¾Ø³Ø±';
    }

    public function getStoryNameAttribute()
    {
        return [
            'submit' => 'Ø«Ø¨Øª Ø´Ø¯Ù‡',
            'cancel' => 'Ù„ØºÙˆ Ø´Ø¯Ù‡',
            'check' => 'Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø±Ø±Ø³ÛŒ',
            'reject' => 'Ø±Ø¯ Ø´Ø¯Ù‡',
            'accept' => 'ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡',
            'appointment' => 'ØªØ¹ÛŒÛŒÙ† ÙˆÙ‚Øª Ù…Ù„Ø§Ù‚Ø§Øª'
        ][$this->story] ?? 'Ù†Ø§Ù…Ø´Ø®Øµ';
    }

    public function getStoryColorAttribute()
    {
        return [
            'submit' => 'blue',
            'cancel' => 'gray',
            'check' => 'yellow',
            'reject' => 'red',
            'accept' => 'green',
            'appointment' => 'purple'
        ][$this->story] ?? 'gray';
    }

    // Scopes
    public function scopeActive($query)
    {
        return $query->whereNotIn('story', ['cancel', 'reject']);
    }

    public function scopeForRole($query, $role)
    {
        if ($role === 'user') {
            return $query->where('user_id', auth()->id());
        }
        
        return $query; // admin/master Ù…ÛŒâ€ŒØ¨ÛŒÙ†Ù†Ø¯ Ù‡Ù…Ù‡
    }
}
```

### DailyTracker Model
```php
// app/Models/DailyTracker.php
class DailyTracker extends Model
{
    protected $fillable = [
        'request_id', 'start_date', 'max_days'
    ];

    protected $casts = [
        'start_date' => 'date',
    ];

    public function request()
    {
        return $this->belongsTo(Request::class);
    }

    // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾ÛŒØ´Ø±ÙØª
    public function getProgressPercentageAttribute()
    {
        $daysPassed = $this->start_date->diffInDays(now());
        return min(100, ($daysPassed / $this->max_days) * 100);
    }

    public function getDaysRemainingAttribute()
    {
        $daysPassed = $this->start_date->diffInDays(now());
        return max(0, $this->max_days - $daysPassed);
    }

    public function getIsCompletedAttribute()
    {
        return $this->progress_percentage >= 100;
    }
}
```

---

## ğŸ”§ Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…ÙÛŒØ¯ Laravel

### Migration Commands
```bash
# Ø§ÛŒØ¬Ø§Ø¯ migration Ø¬Ø¯ÛŒØ¯
php artisan make:migration create_table_name

# Ø§Ø¬Ø±Ø§ÛŒ migration Ù‡Ø§
php artisan migrate

# Rollback Ø¢Ø®Ø±ÛŒÙ† migration
php artisan migrate:rollback

# Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª migration Ù‡Ø§
php artisan migrate:status
```

### Model Commands
```bash
# Ø§ÛŒØ¬Ø§Ø¯ Model + Migration + Controller
php artisan make:model ModelName -mcr

# Ø§ÛŒØ¬Ø§Ø¯ Factory
php artisan make:factory ModelNameFactory

# Ø§ÛŒØ¬Ø§Ø¯ Seeder
php artisan make:seeder TableNameSeeder
```

### Cache & Performance
```bash
# Clear Ú©Ø´â€ŒÙ‡Ø§
php artisan cache:clear
php artisan config:clear
php artisan route:clear
php artisan view:clear

# Optimize Ø¨Ø±Ø§ÛŒ production
php artisan optimize
php artisan config:cache
php artisan route:cache
```

### Development Tools
```bash
# Ø§Ø¬Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± ØªÙˆØ³Ø¹Ù‡
php artisan serve

# Ù†Ù…Ø§ÛŒØ´ Route Ù‡Ø§
php artisan route:list

# ØªÙˆÙ„ÛŒØ¯ App Key
php artisan key:generate

# Ø§ÛŒØ¬Ø§Ø¯ symbolic link Ø¨Ø±Ø§ÛŒ storage
php artisan storage:link
```

---

## ğŸš€ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Production

### Environment Variables (.env)
```env
APP_NAME="Ø¨Ù†ÛŒØ§Ø¯ Ø­Ú©Ù…Øª"
APP_ENV=production
APP_KEY=base64:generated_key_here
APP_DEBUG=false
APP_URL=https://your-domain.com

DB_CONNECTION=sqlite
DB_DATABASE=/absolute/path/to/database/database.sqlite

# Mail Settings (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=your-email@gmail.com
MAIL_PASSWORD=your-app-password
MAIL_ENCRYPTION=tls

# Session & Cache
SESSION_DRIVER=file
CACHE_DRIVER=file
QUEUE_CONNECTION=sync
```

### Apache/Nginx Configuration
```apache
# Apache .htaccess
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule>
```

```nginx
# Nginx configuration
server {
    listen 80;
    server_name your-domain.com;
    root /path/to/boniad_hekmat/public;

    index index.php;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }
}
```

### Security Checklist
- [ ] APP_DEBUG=false Ø¯Ø± production
- [ ] ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬ÙˆØ²Ù‡Ø§ÛŒ ÙØ§ÛŒÙ„ (755 Ø¨Ø±Ø§ÛŒ ÙÙˆÙ„Ø¯Ø±Ù‡Ø§ØŒ 644 Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§)
- [ ] Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ .env
- [ ] HTTPS activation
- [ ] Regular backup Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³
- [ ] Update Ù…Ù†Ø¸Ù… Laravel Ùˆ dependencies

---

## ğŸ“ Ø®Ù„Ø§ØµÙ‡ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³Ø§Ù†

### Ù†Ú©Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ
1. **Ø³Ø§Ø®ØªØ§Ø± MVC**: Ú©Ø§Ù…Ù„Ø§Ù‹ Ø·Ø¨Ù‚ Laravel convention
2. **RTL Support**: ØªÙ…Ø§Ù… UI Ø¨Ø±Ø§ÛŒ Ø²Ø¨Ø§Ù† ÙØ§Ø±Ø³ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡ Ø´Ø¯Ù‡
3. **Role-based System**: Ø³Ù‡ Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¬Ø¯Ø§
4. **Responsive Design**: Mobile-first approach
5. **Modern UI**: TailwindCSS + Custom animations

### ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯
- **Unified Dashboard**: ÛŒÚ© layout Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ Ù†Ù‚Ø´â€ŒÙ‡Ø§
- **Smart Sidebar**: State persistence + Smooth animations
- **Jalali Date Support**: Ú©Ø§Ù…Ù„ Ùˆ ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡
- **Progress Tracking**: Ø³ÛŒØ³ØªÙ… 31 Ø±ÙˆØ²Ù‡ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ
- **Modal System**: AJAX-based communication

### Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡
- **Modular Structure**: Ù‚Ø§Ø¨Ù„ Ú¯Ø³ØªØ±Ø´
- **Clean Code**: Ù…Ø³ØªÙ†Ø¯Ø³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„
- **External Assets**: CSS/JS Ù…Ù†ÙØµÙ„
- **Component-ready**: Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ component Ø³Ø§Ø²ÛŒ

---

*Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¢Ø®Ø±ÛŒÙ† ÙˆØ¶Ø¹ÛŒØª ÙÙ†ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ù†ÛŒØ§Ø¯ Ø­Ú©Ù…Øª Ø±Ø§ Ø¨Ù‡ ØªØ§Ø±ÛŒØ® Û±Û¶ Ù…Ø±Ø¯Ø§Ø¯ Û±Û´Û°Û´ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.*
